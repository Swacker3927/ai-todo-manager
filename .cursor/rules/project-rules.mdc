# AI 할 일 관리 웹 서비스 - 개발 규칙

## 1. 프로젝트 특성

### 1.1 아키텍처

- **Next.js 15 App Router** 기반의 웹 애플리케이션
- 서버 컴포넌트와 클라이언트 컴포넌트를 적절히 분리하여 사용
- React Server Components의 장점을 최대한 활용

### 1.2 사용자 경험 최우선 원칙

- **로딩 상태 UI**: 모든 비동기 작업에 대해 로딩 인디케이터를 제공
- **빈 상태 UI**: 데이터가 없을 때 사용자에게 명확한 안내 메시지와 액션 제공
- **오류 상태 UI**: 오류 발생 시 사용자 친화적인 메시지와 복구 방법 제시
- **상호작용 지연 최소화**:
  - Optimistic UI 업데이트 적용
  - 필요한 경우에만 클라이언트 컴포넌트 사용
  - 적절한 캐싱 전략 수립

### 1.3 오류 처리 절차

- **서버 측 오류 처리**:
  - 모든 API 라우트와 서버 액션에서 try-catch로 예외 포착
  - 적절한 HTTP 상태 코드 반환
  - 개발 환경에서는 상세한 에러 스택 출력
  
- **클라이언트 측 오류 처리**:
  - React Error Boundary 활용
  - 모든 비동기 함수에서 예외 처리
  - 사용자에게는 한글로 친절한 메시지 제공
  - 개발 환경에서는 console.error로 상세 로그 출력

- **오류 메시지 규칙**:
  - 사용자 메시지: 한글로 작성, 기술적 용어 최소화
  - 개발자 메시지: 영어로 작성, 상세한 컨텍스트 포함
  - 예: "작업을 불러오는 중 오류가 발생했습니다. 잠시 후 다시 시도해주세요."

## 2. 기술 스택

### 2.1 필수 기술

- **Next.js 15** (App Router)
- **TypeScript** (strict 모드 권장)
- **Tailwind CSS** (스타일링)
- **Shadcn/ui** (UI 컴포넌트 라이브러리)
- **AI SDK** (AI 모델 연동)
- **ESLint** (Next.js 및 TypeScript 규칙 기반)

### 2.2 기술 스택 사용 원칙

- Shadcn/ui 컴포넌트는 `components/ui/` 디렉토리에 위치
- Tailwind CSS는 유틸리티 클래스를 우선 사용, 커스텀 스타일은 최소화
- AI SDK는 서버 액션이나 API 라우트에서만 사용
- TypeScript strict 모드를 준수하여 타입 안정성 확보

## 3. 코딩 스타일

### 3.1 컴포넌트 작성 규칙

- **함수형 컴포넌트만 사용**: 클래스 컴포넌트 사용 금지
- **화살표 함수 사용**: 모든 함수는 화살표 함수로 작성

  ```typescript
  // ✅ 올바른 예시
  const TodoList = () => {
    return <div>...</div>;
  };
  
  // ❌ 잘못된 예시
  function TodoList() {
    return <div>...</div>;
  }
  ```

### 3.2 파일명 규칙

- **컴포넌트 파일**: 파스칼 케이스 (예: `TodoList.tsx`, `UserProfile.tsx`)
- **유틸리티 파일**: 케밥 케이스 (예: `format-date.ts`, `api-client.ts`)
- **훅 파일**: 케밥 케이스, `use-` 접두사 (예: `use-todo.ts`, `use-auth.ts`)
- **타입 파일**: 케밥 케이스 (예: `todo-types.ts`, `user-types.ts`)

### 3.3 주석 규칙

- **한글 주석 필수**: 모든 함수와 컴포넌트 상단에 한 문장 개요를 한글로 작성
- **JSDoc 한글 작성**: 복잡한 함수나 컴포넌트는 JSDoc 형식으로 한글로 기술
- **예시**:

  ```typescript
  /**
   * 할 일 목록을 표시하는 컴포넌트
   * @param todos - 표시할 할 일 배열
   * @param onToggle - 할 일 완료 상태를 토글하는 콜백 함수
   */
  const TodoList = ({ todos, onToggle }: TodoListProps) => {
    // 할 일 목록 렌더링 로직
    return <div>...</div>;
  };
  ```

### 3.4 ESLint 규칙

- Next.js 및 TypeScript ESLint 규칙을 엄격히 준수
- 린트 오류는 반드시 수정 후 커밋
- 필요시 `.eslintrc.json` 또는 `eslint.config.mjs`에 프로젝트별 규칙 추가 가능

### 3.5 코드 구조 규칙

- **컴포넌트 분리**: 단일 책임 원칙에 따라 컴포넌트를 적절히 분리
- **커스텀 훅 활용**: 재사용 가능한 로직은 커스텀 훅으로 분리
- **타입 정의**: 모든 props와 함수 파라미터에 타입 정의 필수
- **인라인 스타일 지양**: Tailwind CSS 클래스 사용 우선

## 4. 디렉토리 구조

```text
app/                    # Next.js App Router 페이지 및 라우트
components/             # 재사용 가능한 컴포넌트
  ui/                   # Shadcn/ui 컴포넌트
hooks/                  # 커스텀 React 훅
lib/                    # 유틸리티 함수 및 헬퍼
types/                  # TypeScript 타입 정의 (필요시)
```

## 5. 추가 개발 원칙

### 5.1 성능 최적화

- 이미지 최적화: Next.js Image 컴포넌트 사용
- 코드 스플리팅: 동적 import 활용
- 메모이제이션: React.memo, useMemo, useCallback 적절히 활용

### 5.2 접근성

- 시맨틱 HTML 사용
- ARIA 속성 적절히 활용
- 키보드 네비게이션 지원

### 5.3 테스트 (향후)

- 컴포넌트 단위 테스트 작성
- 통합 테스트 작성
- E2E 테스트 작성

## 6. 커밋 메시지 규칙

- 한글로 작성 가능
- 명확하고 간결하게 작성
- 예: "feat: 할 일 추가 기능 구현", "fix: 로딩 상태 UI 수정"
